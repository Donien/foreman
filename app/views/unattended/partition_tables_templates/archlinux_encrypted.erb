<%#
kind: ptable
name: Arch Linux encrypted
model: Ptable
oses:
- Archlinux
-%>
<%
boot_start   = 3
boot_size    = 512
partitioning = {
   "user_configuration": {
      "disk_encryption": {
         "encryption_type": "partition",
         "partitions": {
            "$disk": [
               {
                  "encrypted": false,
                  "filesystem": {
                     "format": "ext4",
                     "mount_options": []
                  },
                  "mountpoint": "/",
                  "size": "100%",
                  "start": "#{boot_size + boot_start}MiB",
                  "type": "primary",
                  "wipe": true
               }
            ]
         }
      }
   },
   "user_disk_layout": {
      "$disk": {
         "partitions": [
            {
               "boot": true,
               "encrypted": false,
               "filesystem": {
                  "format": "fat32"
               },
               "mountpoint": "/boot",
               "size": "#{boot_size}MiB",
               "start": "#{boot_start}MiB",
               "type": "primary",
               "wipe": true
            },
            {
               "encrypted": false,
               "filesystem": {
                  "format": "ext4",
                  "mount_options": []
               },
               "mountpoint": "/",
               "size": "100%",
               "start": "#{boot_size + boot_start}MiB",
               "type": "primary",
               "wipe": true
            }
         ],
         "wipe": true
      }
   }
}
-%>
<%= to_json(partitioning) %>
